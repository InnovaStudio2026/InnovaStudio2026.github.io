<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Laboratorio Web Qu√≠mica (Grado 10+) - Funcional</title>
    
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #e8f5e9;
            color: #333;
        }

        header {
            background-color: #008080;
            color: white;
            padding: 25px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        main {
            padding: 30px;
            max-width: 900px;
            margin: 30px auto;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        }

        .tool-section {
            padding: 20px 0;
        }

        hr {
            border: 0;
            height: 1px;
            background-image: linear-gradient(to right, rgba(0, 0, 0, 0), #ccc, rgba(0, 0, 0, 0));
            margin: 30px 0;
        }

        label {
            display: block;
            margin-top: 15px;
            font-weight: bold;
            color: #008080;
        }

        input[type="text"], input[type="number"], select {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            margin-bottom: 10px;
            box-sizing: border-box;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 16px;
        }

        button {
            background-color: #ff6347;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px;
            margin-right: 10px;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #cc4c39;
        }

        .resultado-display {
            margin-top: 30px;
            padding: 10px;
            border-left: 5px solid #008080;
            background-color: #f0ffff;
            font-size: 1.2em;
            color: #333;
        }

        footer {
            text-align: center;
            padding: 15px;
            margin-top: 20px;
            color: #666;
            border-top: 1px solid #eee;
        }

        /* Estilos para las Gu√≠as y Reporte */
        details {
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 10px;
            margin-bottom: 10px;
            background-color: #f9f9f9;
        }
        summary {
            font-weight: bold;
            cursor: pointer;
            padding: 5px 0;
            color: #008080;
        }
        .guia-content {
            padding-left: 20px;
            margin-top: 10px;
            border-left: 3px solid #ff6347;
        }
        #reporte-modelo {
            background-color: #eee;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            white-space: pre-wrap;
            font-size: 0.9em;
        }
        #resultado-tabla-periodica {
            background-color: #fff3e0;
            border-left-color: #ff9800;
        }
    </style>
</head>
<body>
    <header>
        <h1>üî¨ Herramientas de Laboratorio Qu√≠mico Avanzado (Grado 10+)</h1>
        <p>Calculadoras Funcionales para Pr√°cticas Presenciales</p>
    </header>

    <main>
        <section class="tool-section" id="tabla-periodica-tool">
            <h2>1. Calculadora de Masa Molecular y Consulta Elementos ‚öõÔ∏è</h2>
            <p>Introduce la f√≥rmula para calcular su masa o el s√≠mbolo para consultar un elemento.</p>

            <label for="formula-consulta">F√≥rmula / S√≠mbolo (Ej: H2SO4, Fe, Hierro):</label>
            <input type="text" id="formula-consulta" value="H2O" placeholder="Ej: H2SO4" style="text-transform: uppercase;">

            <button onclick="calcularMasaMolecular()">Calcular Masa Molecular</button>
            <button onclick="consultarElemento()">Consultar Elemento</button>
            
            <h3 class="resultado-display" id="resultado-tabla-periodica">Resultado: </h3>
        </section>

        <hr>

        <section class="tool-section" id="dilucion-tool">
            <h2>2. Calculadora de Diluci√≥n ($C_1V_1 = C_2V_2$) üíß</h2>
            <p>Calcula el volumen final $V_2$ necesario para diluir una soluci√≥n.</p>

            <label for="c1">Concentraci√≥n Inicial ($C_1$, M):</label>
            <input type="number" id="c1" value="5.0" step="any" min="0.01">
            
            <label for="v1">Volumen Inicial ($V_1$, mL):</label>
            <input type="number" id="v1" value="20" step="any" min="0.01">

            <label for="c2">Concentraci√≥n Final Deseada ($C_2$, M):</label>
            <input type="number" id="c2" value="1.0" step="any" min="0.01">
            
            <button onclick="calcularDilucion()">Calcular Volumen Final ($V_2$)</button>
            <h3 class="resultado-display" id="resultado-dilucion">Resultado: </h3>
        </section>

        <hr>

        <section class="tool-section" id="ph-tool">
            <h2>3. Calculadora de pH/pOH üß™</h2>
            <p>Calcula el pH y pOH a partir de la concentraci√≥n de iones (√°cidos/bases fuertes).</p>

            <label for="concentracion-h">Concentraci√≥n de $H^+$ o $OH^-$ (M):</label>
            <input type="number" id="concentracion-h" value="0.001" step="any" min="0">

            <button onclick="calcularPH('H')">Calcular pH (Si es $H^+$)</button>
            <button onclick="calcularPH('OH')">Calcular pH (Si es $OH^-$)</button>
            <h3 class="resultado-display" id="resultado-ph">Resultado: </h3>
        </section>

        <hr>

        <section class="tool-section" id="moles-tool">
            <h2>4. Conversor Estequiom√©trico (Masa ‚áå Moles ‚áå Part√≠culas) üîÑ</h2>
            <p>Convierte entre gramos, moles y n√∫mero de part√≠culas.</p>

            <label for="masa-molar">Masa Molar del Compuesto (g/mol) - Copia el resultado del punto 1:</label>
            <input type="number" id="masa-molar" value="58.44" step="any" min="0.01">

            <label for="unidad-entrada">Unidad de Entrada:</label>
            <select id="unidad-entrada">
                <option value="gramos">Gramos (g)</option>
                <option value="moles">Moles (mol)</option>
                <option value="particulas">Part√≠culas</option>
            </select>
            
            <label for="valor-conversion">Valor a Convertir:</label>
            <input type="number" id="valor-conversion" value="10" step="any" min="0">

            <button onclick="convertirEstequiometria()">Convertir Todo</button>
            <h3 class="resultado-display" id="resultado-moles-masa">Resultado: </h3>
        </section>
        
        <hr>
        
        <section id="guias-uso">
            <h2>üìö Gu√≠as y Modelos de Uso</h2>
            <p>Consulta las gu√≠as para conectar estos c√°lculos con tu pr√°ctica presencial.</p>
            <details>
                <summary>Gu√≠a 1: Uso de la Calculadora de Masa Molecular</summary>
                <div class="guia-content"><p><strong>Prop√≥sito:</strong> Obtener la masa exacta de un compuesto para c√°lculos estequiom√©tricos.</p><ol><li>**F√≥rmula:** Aseg√∫rate de escribir la f√≥rmula correctamente (ej: H2O, NO2, Ca(OH)2).</li><li>**C√°lculo:** La calculadora suma autom√°ticamente la masa at√≥mica de cada elemento, multiplicada por su sub√≠ndice.</li><li>**Uso en Lab:** El resultado (g/mol) debe ser ingresado en la herramienta de **Conversor Estequiom√©trico** para saber cu√°nto pesar.</li></ol></div>
            </details>
            <details>
                <summary>Gu√≠a 2: Uso de la Calculadora de Diluci√≥n ($C_1V_1 = C_2V_2$)</summary>
                <div class="guia-content"><p><strong>Prop√≥sito:</strong> Planificar la preparaci√≥n de una soluci√≥n menos concentrada a partir de una soluci√≥n madre.</p><ol><li>**Identifica $C_1$ (Soluci√≥n Madre):** La concentraci√≥n de la soluci√≥n que ya tienes.</li><li>**Identifica $C_2$ (Soluci√≥n Deseada):** La concentraci√≥n que necesitas para tu experimento.</li><li>**Usa la Calculadora:** Introduce $C_1$, $V_1$ (volumen que tomar√°s) y $C_2$.</li><li>**Resultado ($V_2$):** Indica el volumen final total que debe tener tu soluci√≥n diluida.</li><li>**En el Laboratorio:** Mide $V_1$ de la soluci√≥n madre y **a√±ade agua** hasta alcanzar el volumen total $V_2$ en un matraz aforado.</li></ol></div>
            </details>
            <details>
                <summary>Gu√≠a 3: Integraci√≥n pH y Conversor Estequiom√©trico</summary>
                <div class="guia-content"><p>Estas herramientas permiten:</p><ul><li>**Estequiometr√≠a:** Pasar de gramos (lo que mides en la balanza) a moles (la unidad que usa la qu√≠mica para reaccionar) y viceversa.</li><li>**pH:** Comparar el pH te√≥rico (calculado por la concentraci√≥n de la soluci√≥n que preparaste) con el pH experimental (medido con pH-metro).</li></ul></div>
            </details>
        </section>

        <hr>

        <section id="modelo-reporte">
            <h2>üìÑ Modelo de Reporte de Pr√°ctica (Copiable)</h2>
            <p>Formato ideal para documentar tu pr√°ctica.</p>

            <pre id="reporte-modelo">
### T√≠tulo de la Pr√°ctica: [Insertar T√≠tulo Aqu√≠]

**Nombre del Estudiante:**
**Grado y Secci√≥n:**
**Fecha de Realizaci√≥n:**
**Objetivo de la Pr√°ctica:** [Breve descripci√≥n de lo que se busca lograr.]

---
#### I. Marco Te√≥rico
[Explica brevemente los principios qu√≠micos, f√≥rmulas y conceptos clave.]

#### II. Materiales y Reactivos
| Material/Reactivo | Cantidad/Concentraci√≥n | Masa Molar (MM) |
|---|---|---|
| [Compuesto X] | [__ g] | [__ g/mol (Calculado con la web)] |
| [Soluci√≥n Y] | [0.5 M] | [N/A] |

#### III. Procedimiento Experimental
[Describe los pasos realizados **en pasado** y de forma clara.]

#### IV. Resultados y C√°lculos
1.  **Datos Obtenidos (Medidos):** [Registra todas las mediciones directas.]
2.  **C√°lculos Te√≥ricos (Con Herramienta Web):**
    - **Masa Molecular de X:** __ g/mol
    - **Resultado Diluci√≥n/Masa Te√≥rica:** __
    - **pH Te√≥rico:** __
3.  **Resultado Final Experimental:** [El dato clave obtenido o preparado.]

#### V. An√°lisis de Resultados
[Compara tus resultados te√≥ricos (calculados con la p√°gina) con los experimentales (medidos). Discute fuentes de error.]

#### VI. Conclusi√≥n
[Resume si el objetivo de la pr√°ctica se cumpli√≥. Menciona lo aprendido.]
            </pre>
            <button onclick="copiarReporte()">Copiar Modelo de Reporte</button>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Laboratorio de Qu√≠mica Web | Desarrollado con HTML, CSS y JavaScript.</p>
    </footer>

    <script>
        const AVOGADRO = 6.022e23;
        
        // Base de datos de elementos (SIMPLIFICADA) para c√°lculos moleculares
        // S√≠mbolo: {nombre, masa at√≥mica, n√∫mero at√≥mico}
        const TABLA_PERIODICA = {
            'H': {nombre: 'Hidr√≥geno', masa: 1.008, numero: 1},
            'HE': {nombre: 'Helio', masa: 4.003, numero: 2},
            'LI': {nombre: 'Litio', masa: 6.941, numero: 3},
            'BE': {nombre: 'Berilio', masa: 9.012, numero: 4},
            'B': {nombre: 'Boro', masa: 10.81, numero: 5},
            'C': {nombre: 'Carbono', masa: 12.011, numero: 6},
            'N': {nombre: 'Nitr√≥geno', masa: 14.007, numero: 7},
            'O': {nombre: 'Ox√≠geno', masa: 15.999, numero: 8},
            'F': {nombre: 'Fl√∫or', masa: 18.998, numero: 9},
            'NE': {nombre: 'Ne√≥n', masa: 20.180, numero: 10},
            'NA': {nombre: 'Sodio', masa: 22.990, numero: 11},
            'MG': {nombre: 'Magnesio', masa: 24.305, numero: 12},
            'AL': {nombre: 'Aluminio', masa: 26.982, numero: 13},
            'SI': {nombre: 'Silicio', masa: 28.085, numero: 14},
            'P': {nombre: 'F√≥sforo', masa: 30.974, numero: 15},
            'S': {nombre: 'Azufre', masa: 32.06, numero: 16},
            'CL': {nombre: 'Cloro', masa: 35.45, numero: 17},
            'K': {nombre: 'Potasio', masa: 39.098, numero: 19},
            'CA': {nombre: 'Calcio', masa: 40.078, numero: 20},
            'FE': {nombre: 'Hierro', masa: 55.845, numero: 26},
        };

        // =========================================================
        // Funci√≥n de utilidad para manejar la validaci√≥n
        // =========================================================
        function validarNumero(valor, nombreVariable, permitirCero = true) {
            if (isNaN(valor) || valor < 0 || (!permitirCero && valor <= 0)) {
                return `‚ùå Error: El valor de **${nombreVariable}** debe ser un n√∫mero positivo y ${permitirCero ? 'mayor o igual a cero.' : 'mayor a cero.'}`;
            }
            return null;
        }

        // =========================================================
        // 1. C√ÅLCULOS DE MASA MOLECULAR Y TABLA PERI√ìDICA
        // =========================================================

        function calcularMasaMolecular() {
            const formulaInput = document.getElementById('formula-consulta').value.trim().toUpperCase();
            const resultadoElemento = document.getElementById('resultado-tabla-periodica');
            let masaTotal = 0;
            let detalles = '';
            
            // Regex para buscar el s√≠mbolo del elemento (1 o 2 letras) seguido opcionalmente por un n√∫mero (cantidad)
            const regex = /([A-Z][a-z]?)([0-9]*)/g;
            let match;

            if (formulaInput === "") {
                resultadoElemento.innerHTML = '‚ùå Error: Por favor, ingrese una f√≥rmula.';
                return;
            }

            while ((match = regex.exec(formulaInput)) !== null) {
                const simbolo = match[1];
                // Si no hay n√∫mero (sub√≠ndice) la cantidad es 1
                const cantidad = match[2] === '' ? 1 : parseInt(match[2]);

                const elemento = TABLA_PERIODICA[simbolo];

                if (!elemento) {
                    resultadoElemento.innerHTML = `‚ùå Error: El elemento **${simbolo}** no se encuentra en nuestra base de datos.`;
                    return;
                }

                const masaElemento = elemento.masa * cantidad;
                masaTotal += masaElemento;
                detalles += `${simbolo} (${cantidad}): ${elemento.masa.toFixed(3)} x ${cantidad} = ${masaElemento.toFixed(3)} g/mol<br>`;
            }

            if (masaTotal === 0 || formulaInput !== match.input) {
                 // Esta validaci√≥n simple intenta evitar errores de sintaxis extra√±os
                 resultadoElemento.innerHTML = '‚ùå Error: La f√≥rmula es inv√°lida. Aseg√∫rese de usar solo s√≠mbolos listados (Ej: H2O).';
                 return;
            }

            resultadoElemento.innerHTML = 
                `**F√≥rmula:** ${formulaInput}<br>
                **Masa Molecular:** **${masaTotal.toFixed(4)} g/mol**<br>
                <small>Detalles del C√°lculo:<br>${detalles}</small>`;
            resultadoElemento.style.borderColor = '#ff9800';
        }

        function consultarElemento() {
            const consultaInput = document.getElementById('formula-consulta').value.trim().toUpperCase();
            const resultadoElemento = document.getElementById('resultado-tabla-periodica');
            
            let elementoEncontrado = null;

            // 1. B√∫squeda por S√≠mbolo
            elementoEncontrado = TABLA_PERIODICA[consultaInput];

            // 2. B√∫squeda por Nombre (Iteraci√≥n)
            if (!elementoEncontrado) {
                for (const simbolo in TABLA_PERIODICA) {
                    if (TABLA_PERIODICA[simbolo].nombre.toUpperCase() === consultaInput) {
                        elementoEncontrado = TABLA_PERIODICA[simbolo];
                        break;
                    }
                }
            }
            
            if (elementoEncontrado) {
                const simboloFinal = Object.keys(TABLA_PERIODICA).find(key => TABLA_PERIODICA[key] === elementoEncontrado);
                resultadoElemento.innerHTML = 
                    `**Elemento Encontrado:** ${elementoEncontrado.nombre} (${simboloFinal})<br>
                    - **S√≠mbolo:** ${simboloFinal}<br>
                    - **N√∫mero At√≥mico:** ${elementoEncontrado.numero}<br>
                    - **Masa At√≥mica:** **${elementoEncontrado.masa.toFixed(4)} u** (g/mol)`;
            } else {
                resultadoElemento.innerHTML = `‚ùå Error: No se encontr√≥ el elemento **${consultaInput}** por s√≠mbolo o nombre.`;
            }
            resultadoElemento.style.borderColor = '#ff9800';
        }

        // =========================================================
        // 2. C√ÅLCULO DE DILUCI√ìN (C1V1 = C2V2)
        // =========================================================
        function calcularDilucion() {
            const c1Input = document.getElementById('c1').value;
            const v1Input = document.getElementById('v1').value;
            const c2Input = document.getElementById('c2').value;
            const resultadoElemento = document.getElementById('resultado-dilucion');

            const c1 = parseFloat(c1Input);
            const v1 = parseFloat(v1Input);
            const ce